<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algorithm Visualizer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <script>
        // Check if the 'isLoggedIn' flag is NOT set to 'true' in the browser's storage
        if (localStorage.getItem('isLoggedIn') !== 'true') {
            // If the user is not logged in, redirect them to the login page
            window.location.href = 'login.html';
        }
    </script>
    <header>
        <h1>Algorithm Visualizer</h1>
        <div class="mode-switch">
            <button id="sortingBtn" class="active">Sorting</button>
            <button id="pathfindingBtn">Pathfinding</button>
        </div>
    </header>

    <main>
        <section id="sortingSection" class="section visible">
            <h2>ðŸ“Š Sorting Visualizer</h2>

            <div class="controls-panel">
                <div class="control-group">
                    <label for="arrayInput">Array Values:</label>
                    <input type="text" id="arrayInput" value="5,3,8,4,2" placeholder="e.g., 5,3,8,4,2">
                </div>
                
                <div class="control-group">
                    <label for="sortSelect">Algorithm:</label>
                    <select id="sortSelect">
                        <option value="bubble">Bubble Sort</option>
                        <option value="selection">Selection Sort</option>
                        <option value="insertion">Insertion Sort</option>
                        <option value="merge">Merge Sort</option>
                        <option value="quick">Quick Sort</option>
                        <option value="heap">Heap Sort</option>
                    </select>
                </div>
                
                <div class="control-group speed-control">
                    <label for="speedSlider" id="speedLabel">Speed: 50%</label>
                    <input type="range" id="speedSlider" min="1" max="100" value="50">
                </div>

                <button id="runSortBtn">Run Visualization</button>
            </div>

            <div id="visualContainer" class="single-chart-container">
            </div>

            <h3>Performance Metrics</h3>
            <table id="comparisonTable">
                <thead>
                    <tr>
                        <th>Algorithm</th>
                        <th>Comparisons/Steps</th>
                        <th>Time (ms)</th>
                        <th>Swaps</th>
                        <th>Complexity</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            
            <h3>History</h3>
            <div id="history" class="history-log"></div>
        </section>

        <section id="pathfindingSection" class="section">
            <h2>ðŸ—º Pathfinding Visualizer</h2>
            
            <div class="controls-panel" id="pathfindingControls">
                <button id="addNodeBtn" class="graph-action-btn">Add Node</button>
                <button id="addEdgeBtn" class="graph-action-btn">Add Edge</button>
                <button id="resetGraphBtn" class="graph-action-btn">Reset Graph</button>
                
                <div class="control-group">
                    <label for="weightedSelect">Weighted:</label>
                    <select id="weightedSelect">
                        <option value="no" selected>Unweighted</option>
                        <option value="yes">Weighted</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="directedSelect">Graph Type:</label>
                    <select id="directedSelect">
                        <option value="undirected" selected>Undirected</option>
                        <option value="directed">Directed</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="pathAlgoSelect">Algorithm:</label>
                    <select id="pathAlgoSelect">
                        <option value="dijkstra" selected>Dijkstra (Shortest Path)</option>
                        <option value="bfs">BFS (Unweighted)</option>
                        <option value="astar">A* (Heuristic Search)</option>
                        <option value="dfs">DFS (Path Finding)</option>
                        <option value="bellmanford">Bellman-Ford (Neg. Weights)</option>
                    </select>
                </div>
                
                <button id="runPathBtn" class="run-path-btn">Find Path</button>
            </div>

            <canvas id="graphCanvas" width="800" height="400"></canvas>
            <p id="pathCostDisplay" class="path-info"></p>
        </section>
    </main>

    <script src="script.js"></script>
</body>
</html>